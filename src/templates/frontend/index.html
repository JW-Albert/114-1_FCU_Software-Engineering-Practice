<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ByteBite - UI 整合展示</title>
    <!-- 引入 Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <style>
        /* 顏色變數定義 */
        :root {
            --primary-blue: #002FA7;
            --gray-bg: #E9E9E9;
            --white: #FFFFFF;
            --text-dark: #333;
            --border-light: #ccc;
            /* 字體使用預設 */
            --font-serif: Georgia, 'Times New Roman', Times, serif; /* for logo */
            --font-sans: Arial, Helvetica, sans-serif; /* for body */
        }

        /* 全域基本樣式 */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-sans);
            color: var(--text-dark);
        }

        .container {
            max-width: 1000px; /* 桌面固定寬度 */
            margin: 20px auto;
            padding: 0 20px;
        }

        /* --- 導覽列 (Navbar) --- */
        .navbar {
            background-color: var(--primary-blue);
            color: var(--white);
            display: flex;
            /* 保持 Logo 和 User Icon 在 40px padding 邊界內 */
            justify-content: space-between; 
            align-items: center;
            padding: 0 40px; /* 左右邊距 40px */
            height: 80px;
        }

        .logo-container {
            width: 150px;
            height: 100%;
            display: flex;
            align-items: center;
            overflow: hidden;
            flex-shrink: 0; 
        }                                                                                                                                   

        .logo-img {
            height: 100%;
            object-fit: contain;
            width: auto;
            background-color: var(--primary-blue); 
        }

        .nav-links {
            display: flex;
            flex-grow: 1; 
            justify-content: flex-end; /* 讓連結靠右對齊 (置右) */
            gap: 150px; /* 連結彼此之間的間距 */
            height: 100%;
            padding: 0; 
            /* 新增：右邊距，將連結與人物圖標分開 */
            margin-right: 40px; 
        }
        
        .nav-item {
            color: var(--white);
            text-decoration: none;
            font-size: 1.25em;
            padding: 25px 0;
            position: relative;
            cursor: pointer;
        }

        .nav-item.selected {
            font-weight: bold;
        }

        .nav-item.selected::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background-color: var(--white);
        }

        .user-icon {
            flex-shrink: 0;
            display: flex;
            align-items: center;
        }

        .user-icon i {
            font-size: 1.8em;
        }

        /* --- 圓角 16px (統一規格) --- */
        .search-input-group, .btn, .filter-section, .filter-btn, .store-card, 
        .store-hero img, .menu-card, .map-placeholder, .calendar-widget, 
        .meal-card-btn, .food-entry, .diet-input-form, .favorite-filter .filter-input-group {
            border-radius: 16px; 
        }

        /* --- 輔助類別 --- */
        .page-section {
            display: none; /* 預設隱藏所有頁面，透過 JS 切換 */
        }
        .page-section.active {
            display: block;
        }
        .primary-color {
            color: var(--primary-blue) !important;
        }
        .btn-primary { 
            background-color: var(--primary-blue); 
            color: var(--white); 
            font-weight: bold; 
        }
        .btn-secondary {
            background-color: var(--gray-bg);
            color: var(--primary-blue);
            font-weight: bold;
            border: 1px solid var(--primary-blue);
        }
        .btn-danger {
            background-color: #dc3545;
            color: var(--white);
            font-weight: bold;
        }
        .btn { 
            padding: 10px 30px; 
            border: none; 
            font-size: 1em; 
            cursor: pointer; 
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* --- 搜尋頁 (Frame 1) 樣式 --- */

        .search-bar-section {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            align-items: center;
        }
        .search-input-group {
            flex-grow: 1;
            display: flex;
            align-items: center;
            background-color: var(--gray-bg);
            padding: 10px 25px;
        }
        .search-input-group i { color: #888; font-size: 1.1em; }
        .search-input-group input { flex-grow: 1; border: none; background: none; font-size: 1em; padding: 0 10px; outline: none;}

        /* 重置按鈕容器調整 */
        .filter-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 15px; 
        }
        .filter-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .filter-section h3 { color: var(--primary-blue); font-size: 1.1em; }
        .vegetarian-toggle { display: flex; align-items: center; gap: 10px; font-size: 0.9em; }
        
        #reset-filters {
            padding: 5px 10px;
            font-size: 0.85em;
            background-color: var(--white);
            color: var(--primary-blue);
            border: 1px solid var(--primary-blue);
            border-radius: 16px;
            cursor: pointer;
            transition: background-color 0.1s;
        }
        #reset-filters:hover {
            background-color: var(--gray-bg);
        }


        /* 類別按鈕容器 - 採用 Grid 佈局實現均勻分佈 */
        .category-filters { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); 
            gap: 10px; 
            margin-bottom: 20px; 
            border: 1px solid var(--primary-blue); 
            padding: 10px; 
            border-radius: 16px; 
        }

        .price-filters { display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 20px; }
        .price-title { margin-top: 15px; margin-bottom: 10px !important; }

        /* filter-btn: 通用設定 */
        .filter-btn {
            height: 36px; /* 固定高度 */
            display: flex; 
            justify-content: center;
            align-items: center;
            padding: 0; 
            
            border: 1px solid var(--primary-blue);
            font-size: 1em; /* 統一字體大小 */
            cursor: pointer;
            transition: all 0.2s;
            background-color: var(--gray-bg);
            color: var(--primary-blue);
        }
        .filter-btn.selected {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        /* --- 價格按鈕專用樣式 (統一為 16px 圓角矩形，移除粗體) --- */
        .price-filters .filter-btn {
            padding: 10px 20px; 
            height: auto; 
            font-size: 1em; 
            border-radius: 16px !important; 
        }

        /* 價格按鈕：未選中 (灰底藍框) */
        .price-filters .filter-btn:not(.selected) {
            background-color: var(--gray-bg);
            border: 1px solid var(--primary-blue);
        }

        /* 價格按鈕：選中狀態 (藍底白字) */
        .price-filters .filter-btn.selected {
            background-color: var(--primary-blue);
            color: var(--white);
            border: none;
        }


        .store-list {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }
        .store-card {
            text-decoration: none;
            color: inherit;
            display: block;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .store-card img { width: 100%; height: 180px; object-fit: cover; }
        .store-info { display: flex; justify-content: space-between; align-items: center; padding: 10px 10px 0; }
        .store-name { font-weight: bold; color: var(--text-dark); font-size: 1.1em; } /* 保持店名粗體 */
        .distance { font-size: 0.9em; color: #666; }
        .store-rating { display: flex; justify-content: space-between; padding: 0 10px 10px; font-size: 0.9em; }
        .stars { color: #FFC107; } /* 確保星星是黃色 */


        /* 素食切換開關 (Toggles) */
        .switch { position: relative; display: inline-block; width: 40px; height: 24px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 24px;}
        .slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%;}
        input:checked + .slider { background-color: var(--primary-blue); }
        input:checked + .slider:before { transform: translateX(16px); }


        /* --- 店家詳情頁 (Frame 2) 樣式 --- */
        .store-hero img { width: 100%; max-height: 400px; object-fit: cover; margin-bottom: 20px; }
        .store-details { margin-bottom: 30px; }
        
        /* 新增樣式：讓 ID 顯示為大、粗、黑色的標題 */
        #detail-description { 
            font-size: 1.5em; /* 字體加大 */
            font-weight: bold; /* 字體加粗 */
            color: var(--text-dark); /* 黑色/深灰 */
            margin-bottom: 20px; 
            line-height: 1.3;
        }

        .store-details p { margin-bottom: 10px; line-height: 1.4; color: #666;} /* 預防其他 p 標籤被影響 */
        .store-meta { 
            display: flex; 
            align-items: center; 
            gap: 10px; 
            margin-bottom: 20px; 
        }
        .rating-stars { color: #FFC107; font-size: 1.2em; }
        .price-meta { font-size: 1.2em; font-weight: bold; color: #666; }
        
        /* 追蹤圖標樣式 */
        .follow-icon {
            margin-left: auto; /* 推到最右邊 */
            font-size: 2em; /* 讓愛心大一點，作為獨立按鈕 */
            color: var(--primary-blue); /* 預設顏色 */
            cursor: pointer;
            transition: color 0.1s;
        }
        .follow-icon:hover {
            color: #ff4500; /* 懸停效果 */
        }
        .follow-icon.followed {
            color: #ff4500; /* 實心後的顏色 */
        }


        .menu-preview h4 { margin-bottom: 15px; font-size: 1.2em; color: var(--primary-blue); }
        .menu-cards { display: flex; gap: 20px; margin-bottom: 40px; }
        .menu-card {
            width: 33%;
            border: 1px solid var(--gray-bg);
            overflow: hidden;
            text-align: center;
        }
        .menu-card img { width: 100%; height: 150px; object-fit: cover; }
        .menu-card p { padding: 5px; font-weight: bold; }
        .menu-card span { display: block; padding-bottom: 10px; color: var(--primary-blue); font-weight: bold; }

        .map-section h4 { margin-bottom: 15px; font-size: 1em; color: #666; }
        .map-placeholder { width: 100%; height: 300px; background-color: #f0f0f0; border: 1px solid #ccc; }


        /* --- 我的飲食頁 (Frame 3/5) 樣式 - 新版佈局 --- */

        /* 上半部：日曆 + 按鈕 (水平排列) */
        .diet-top-section {
            display: flex;
            gap: 40px;
            /* 修改：設定為 stretch，讓兩邊等高 */
            align-items: stretch; 
            margin-bottom: 20px;
        }
        
        /* 側邊日曆寬度 */
        .diet-sidebar { width: 260px; flex-shrink: 0; } 
        
        /* 右側餐次按鈕容器：填滿剩餘空間 */
        .meal-buttons-container {
            flex-grow: 1; 
            display: flex; 
            flex-direction: column; 
            /* 移除這裡的 gap，改由內部的 justify-content 控制 */
        }
        
        /* 下半部：輸入表單 + 統計 (垂直排列，佔滿全寬) */
        .diet-bottom-section {
            width: 100%;
            margin-top: 20px;
        }

        /* 日曆 - 移除 margin-bottom 以確保高度計算準確 */
        .calendar-widget { margin-bottom: 0; border: 1px solid var(--gray-bg); padding: 15px; text-align: center; height: 100%; }
        .cal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; font-weight: bold; }
        .cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; font-size: 0.9em; }
        .cal-day { 
            padding: 8px 0; 
            border-radius: 50%; 
            cursor: pointer;
            transition: background-color 0.1s;
            width: 30px; 
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: auto;
        }
        .cal-day:hover {
            background-color: var(--gray-bg);
        }
        .cal-weekday { font-weight: bold; color: #999; }
        .cal-day.selected { 
            background-color: var(--primary-blue); 
            color: var(--white); 
            font-weight: bold; 
        }
        .cal-day.not-in-month { color: #ccc; }

        /* 餐次輸入區 - 修改：使用 space-between 讓按鈕平均分佈在日曆的高度內 */
        .meal-input-section { 
            display: flex; 
            flex-direction: column; 
            justify-content: space-between; /* 關鍵：平均分佈垂直空間 */
            height: 100%; /* 填滿容器高度 */
            gap: 10px; /* 最小間距，避免太擠 */
            margin-bottom: 0; 
        } 
        
        .meal-card-btn {
            display: grid;
            grid-template-columns: 1fr auto 1fr; /* 左(彈性) 中(自適應) 右(彈性) */
            align-items: center;
            
            /* 修改：加大按鈕高度/內邊距 */
            padding: 20px 25px; 
            
            background-color: var(--white);
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            color: var(--primary-blue);
            border: 3px solid transparent; 
            transition: border-color 0.15s;
            border-radius: 16px; 
        }
        .meal-card-btn:not(.selected) {
            border-color: var(--border-light);
            border-width: 2px; 
        }
        .meal-card-btn.selected {
            border-color: var(--primary-blue); 
            border-width: 3px; 
        }
        
        .meal-card-btn span:first-child { 
            justify-self: start;
            font-size: 1.25em; 
        }
        .meal-card-btn span:nth-child(2) { 
            justify-self: center;
            color: var(--text-dark); 
            font-size: 0.9em; 
            font-weight: normal;
        }
        .meal-card-btn i { 
            justify-self: end;
            font-size: 1.2em; 
        }


        /* 營養素總覽 */
        .nutrient-summary h3 { margin-bottom: 15px; font-size: 1em; color: var(--primary-blue); }
        #total-summary { display: block; } 
        #meal-detail-container { display: none; }


        .nutrient-pills { display: grid; grid-template-columns: repeat(6, 1fr); gap: 10px; margin-bottom: 15px; }
        .pill-label { background-color: var(--primary-blue); color: var(--white); padding: 5px 10px; border-radius: 20px; font-size: 0.9em; text-align: center; }
        .summary-values {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
            text-align: center;
            border-bottom: 1px solid var(--gray-bg);
            padding-bottom: 15px;
            margin-bottom: 20px;
        }
        .summary-value p:first-child { font-weight: bold; font-size: 1.2em; color: var(--primary-blue); }
        .summary-value p:last-child { font-size: 0.8em; color: #666; }

        /* 飲食細節 */
        .food-entry {
            border: 1px solid var(--gray-bg);
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .entry-title { font-weight: bold; color: var(--primary-blue); }
        .entry-nutrients {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            text-align: center;
            font-size: 0.9em;
        }
        .entry-nutrient p:first-child { font-weight: bold; }
        .entry-nutrient p:last-child { font-size: 0.8em; color: #666; }

        /* 飲食輸入表單 (Frame 5) - 全寬版配置 */
        .diet-input-form {
            border: 1px solid var(--gray-bg);
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 40px;
        }

        .diet-input-form .nutrient-pills {
            /* 2fr 給食物名稱，其餘 6 欄各 1fr */
            display: grid;
            grid-template-columns: 2fr repeat(6, 1fr); 
            gap: 10px; 
            margin-bottom: 10px;
        }
        .diet-input-form .nutrient-pills .pill-label:first-child {
            text-align: center; 
            padding-left: 0;
        }
        .pill-label {
             font-size: 0.95em;
        }

        .input-row {
            display: grid;
            grid-template-columns: 2fr repeat(6, 1fr); /* 與標題對齊 */
            gap: 10px;
            margin-bottom: 20px;
        }
        .input-row input {
            padding: 10px 5px; 
            border: 1px solid #ccc;
            font-size: 1em;
            text-align: center;
            width: 100%; 
            min-width: 0; 
            border-radius: 4px;
        }
        .input-row input:first-child {
            text-align: center;
        }

        .action-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            align-items: center;
        }
        .action-buttons .spacer {
            flex-grow: 1;
        }

        /* --- 收藏列表頁 (Frame 4) 樣式 --- */

        .favorite-filter {
            margin-bottom: 30px;
        }
        .favorite-filter .filter-input-group {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            border: 1px solid var(--gray-bg);
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.05);
        }
        .favorite-filter label {
            font-weight: bold;
            color: var(--primary-blue);
            white-space: nowrap;
        }
        .favorite-filter select {
            padding: 8px 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 1em;
            min-width: 120px;
        }
        .large-filter-input {
            flex-grow: 1;
            padding: 10px 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 1em;
        }
    </style>
</head>
<body>
    <header class="navbar">
        <div class="logo-container">
            <img src="logo.png" alt="ByteBite Logo" class="logo-img">
        </div>
        <nav class="nav-links">
            <a href="#" class="nav-item" data-page="search-page" id="nav-search">搜尋</a>
            <a href="#" class="nav-item" data-page="diet-page" id="nav-diet">我的飲食</a>
            <a href="#" class="nav-item" data-page="favorite-page" id="nav-favorite">收藏</a>
        </nav>
        <div class="user-icon">
            <i class="fa-solid fa-user"></i>
        </diV>
    </header>
    
    <main class="container">
        <!-- ======================================================= -->
        <!-- 1. 搜尋頁面 (Frame 1) -->
        <!-- ======================================================= -->
        <section class="page-section active" id="search-page">
            <div class="search-bar-section">
                <div class="search-input-group">
                    <i class="fa-solid fa-search"></i>
                    <input type="text" placeholder="Search">
                    <i class="fa-solid fa-microphone"></i>
                </div>
                <button class="btn btn-primary">查詢</button>
            </div>

            <section class="filter-section">
                <div class="filter-header">
                    <h3>篩選</h3>
                    <!-- 素食開關與重置按鈕容器 -->
                    <div class="filter-controls">
                        <!-- 重置按鈕已移到素食開關的左邊 -->
                        <button id="reset-filters">重置</button>
                        <div class="vegetarian-toggle">
                            <span>素食</span>
                            <label class="switch">
                                <input type="checkbox" id="vegetarian-toggle">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- 類別按鈕清單 (已使用 Grid 佈局修正均勻分佈問題) -->
                <div class="category-filters">
                    <button class="filter-btn">日式</button>
                    <button class="filter-btn">台式</button>
                    <button class="filter-btn">美式</button>
                    <button class="filter-btn">韓式</button>
                    <button class="filter-btn">義式</button>
                    <button class="filter-btn">泰式</button>
                    <button class="filter-btn">港式</button>
                    <button class="filter-btn">火鍋</button>
                    <button class="filter-btn">速食</button>
                    <button class="filter-btn">健康</button>
                    <button class="filter-btn">飲料</button>
                    <button class="filter-btn">早餐</button>
                    <button class="filter-btn">宵夜</button>
                    <button class="filter-btn">便當</button>
                    <button class="filter-btn">小吃</button>
                    <button class="filter-btn">甜點</button>
                    <button class="filter-btn">麵食</button>
                    <button class="filter-btn">輕食</button>
                    <button class="filter-btn">炸雞</button>
                    <button class="filter-btn">粥</button>
                </div>

                <h3 class="price-title">價格</h3>
                <div class="price-filters">
                    <!-- 移除預設選中狀態，讓它可以都不選 -->
                    <button class="filter-btn">$</button>
                    <button class="filter-btn">$$</button>
                    <button class="filter-btn">$$$</button>
                    <button class="filter-btn">$$$$</button>
                </div>
            </section>

            <!-- 店家列表容器 (將由 JS 填充) -->
            <section class="store-list" id="store-list-container">
                <!-- JS 將在此處插入動態生成的店家卡片 -->
            </section>
        </section>

        <!-- ======================================================= -->
        <!-- 2. 店家詳情頁 (Frame 2) - 內容將由 JS 動態填充 -->
        <!-- ======================================================= -->
        <section class="page-section" id="store-detail-page">
            <section class="store-hero">
                <img id="detail-hero-img" src="placeholder-store-4.jpg" alt="店家主視覺">
            </section>

            <section class="store-details">
                <p id="detail-description">店家資訊將動態載入。</p>
                <div class="store-meta">
                    <span id="detail-rating-stars" class="rating-stars"></span>
                    <span id="detail-price-meta" class="price-meta"></span>
                    <span id="detail-distance" class="distance"></span>
                    <!-- 追蹤圖標: 預設空心愛心 (已刪除按鈕和文字，只保留圖標作為按鈕) -->
                    <i class="fa-regular fa-heart follow-icon" id="follow-icon"></i>
                </div>
            </section>

            <section class="menu-preview">
                <h4>你可能喜歡 (菜單預覽)</h4>
                <div id="detail-menu-cards" class="menu-cards">
                    <!-- JS 將在此處插入菜單卡片 -->
                </div>
            </section>

            <section class="map-section">
                <h4 id="detail-address"></h4>
                <div class="map-placeholder"></div>
            </section>
        </section>

        <!-- ======================================================= -->
        <!-- 3. 我的飲食頁 (Frame 3 & 5) -->
        <!-- ======================================================= -->
        <section class="page-section" id="diet-page">
            
            <!-- 上半部：日曆與餐次按鈕 (並排) -->
            <div class="diet-top-section">
                <!-- 左側：日曆 -->
                <div class="diet-sidebar">
                    <div class="calendar-widget">
                        <!-- 月曆抬頭 -->
                        <div class="cal-header">
                            <i class="fa-solid fa-chevron-left" id="prev-month"></i>
                            <span id="current-month-year">Sep 2025</span>
                            <i class="fa-solid fa-chevron-right" id="next-month"></i>
                        </div>
                        <!-- 月曆網格 (將由 JS 填充) -->
                        <div class="cal-grid" id="calendar-grid">
                            <!-- 星期幾標籤 -->
                            <span class="cal-weekday">Su</span>
                            <span class="cal-weekday">Mo</span>
                            <span class="cal-weekday">Tu</span>
                            <span class="cal-weekday">We</span>
                            <span class="cal-weekday">Th</span>
                            <span class="cal-weekday">Fr</span>
                            <span class="cal-weekday">Sa</span>
                            <!-- 日期將由 JS 填充 -->
                        </div>
                    </div>
                </div>

                <!-- 右側：餐次輸入按鈕 -->
                <div class="meal-buttons-container">
                    <div class="meal-input-section">
                        <button class="meal-card-btn" data-meal="breakfast" data-meal-id="1">
                            <span>早餐</span>
                            <span class="meal-cal-summary">已攝取：約 0 大卡</span>
                            <i class="fa-solid fa-plus"></i>
                        </button>
                        <button class="meal-card-btn" data-meal="lunch" data-meal-id="2">
                            <span>午餐</span>
                            <span class="meal-cal-summary">已攝取：約 0 大卡</span>
                            <i class="fa-solid fa-plus"></i>
                        </button>
                        <button class="meal-card-btn" data-meal="dinner" data-meal-id="3">
                            <span>晚餐</span>
                            <span class="meal-cal-summary">已攝取：約 0 大卡</span>
                            <i class="fa-solid fa-plus"></i>
                        </button>
                        <button class="meal-card-btn" data-meal="other" data-meal-id="4">
                            <span>其他</span>
                            <span class="meal-cal-summary">已攝取：約 0 大卡</span>
                            <i class="fa-solid fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- 下半部：輸入表單與統計 (全寬，位於上方區塊之下) -->
            <div class="diet-bottom-section">
                <!-- 飲食輸入表單 (Frame 5) - 預設隱藏，點擊餐次卡片後顯示/隱藏 -->
                <section class="diet-input-form" id="diet-form" style="display: none;">
                    <div class="nutrient-pills">
                        <span class="pill-label">食物名稱</span>
                        <span class="pill-label">熱量</span><span class="pill-label">碳水化合物</span>
                        <span class="pill-label">蛋白質</span><span class="pill-label">脂肪</span>
                        <span class="pill-label">糖</span><span class="pill-label">鈉</span>
                    </div>
                    <div class="input-row">
                        <!-- 為輸入欄位添加 ID 以便 JS 讀取 -->
                        <input type="text" id="food-name" placeholder="食物名稱">
                        <input type="number" id="food-cals" placeholder="">
                        <input type="number" id="food-carbs" placeholder="">
                        <input type="number" id="food-protein" placeholder="">
                        <input type="number" id="food-fat" placeholder="">
                        <input type="number" id="food-sugar" placeholder="">
                        <input type="number" id="food-sodium" placeholder="">
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-secondary"><i class="fa-solid fa-camera"></i> 上傳圖片</button>
                        <div class="spacer"></div>
                        <button class="btn btn-danger"><i class="fa-solid fa-trash-can"></i> 刪除</button>
                        <button class="btn btn-primary" id="save-diet-btn"><i class="fa-solid fa-floppy-disk"></i> 儲存</button>
                    </div>
                </section>
                
                <!-- 總體摘要 (預設顯示) -->
                <div id="total-summary">
                    <section class="nutrient-summary">
                        <h3 class="price-title">今日累積攝取</h3>
                        <div class="nutrient-pills">
                            <span class="pill-label">熱量</span><span class="pill-label">碳水化合物</span>
                            <span class="pill-label">蛋白質</span><span class="pill-label">脂肪</span>
                            <span class="pill-label">糖</span><span class="pill-label">鈉</span>
                        </div>
                        <div class="summary-values" id="total-summary-values">
                            <!-- 預設為 0 -->
                            <div class="summary-value"><p>0</p><p>大卡</p></div>
                            <div class="summary-value"><p>0</p><p>公克</p></div>
                            <div class="summary-value"><p>0</p><p>公克</p></div>
                            <div class="summary-value"><p>0</p><p>公克</p></div>
                            <div class="summary-value"><p>0</p><p>公克</p></div>
                            <div class="summary-value"><p>0</p><p>毫克</p></div>
                        </div>
                    </section>
                </div>

                <!-- 單餐細節 (預設隱藏) -->
                <div id="meal-detail-container">
                    <section class="nutrient-summary">
                        <h3 class="price-title" id="meal-summary-title">午餐攝取量</h3>
                        <div class="nutrient-pills">
                            <span class="pill-label">熱量</span><span class="pill-label">碳水化合物</span>
                            <span class="pill-label">蛋白質</span><span class="pill-label">脂肪</span>
                            <span class="pill-label">糖</span><span class="pill-label">鈉</span>
                        </div>
                        <div class="summary-values" id="meal-summary-values">
                            <!-- 該餐的總攝取數據將由 JS 填充 -->
                        </div>
                    </section>

                    <!-- 飲食細節列表 (單餐) -->
                    <section class="food-entry-list" id="meal-food-list">
                        <!-- 單餐飲食條目將由 JS 填充 -->
                    </section>
                </div>
            </div>
        </section>

        <!-- ======================================================= -->
        <!-- 4. 收藏列表頁 (Frame 4) -->
        <!-- ======================================================= -->
        <section class="page-section" id="favorite-page">
            <section class="favorite-filter">
                <div class="filter-input-group">
                    <label for="collection-select">收藏分類</label>
                    <select id="collection-select">
                        <option value="all">所有</option>
                        <option value="thai">泰式</option>
                        <option value="sushi">日式壽司</option>
                    </select>
                    <input type="text" placeholder="搜尋您的收藏" class="large-filter-input">
                </div>
            </section>

            <!-- 收藏列表容器 (將由 JS 動態填充) -->
            <section class="store-list" id="favorite-list-container" style="margin-top: 30px;">
                <!-- JS 將在此處插入動態生成的收藏店家卡片或空列表提示 -->
            </section>
        </section>
    </main>

    <script>
        // 模擬的店家資料 (已更新 descriptions)
        const storeData = [
            { id: 1, name: '九湯屋日式拉麵 逢甲店', rating: '★★★★☆ 4.0', priceRange: '$ 1 ~ 200', priceMeta: '$', distance: '0.8 km', heroImg: 'placeholder-store-1.jpg', description: '九湯屋日式拉麵 逢甲店', menu: [{name: '豚骨拉麵', price: '$150'}, {name: '味噌拉麵', price: '$140'}] },
            { id: 2, name: '泰壽司-西屯熱門美食', rating: '★★★★☆ 4.5', priceRange: '$ 200 ~ 400', priceMeta: '$$', distance: '1.1 km', heroImg: 'placeholder-store-4.jpg', description: '泰壽司-西屯熱門美食 | 烏龍麵 | 握壽司 | 好吃的湯 | 平價日料 | 台中美食 | 日本料理 | 台中美食地圖 | restaurants | Seafood | Cheap eats', menu: [{name: '鮭魚丼飯', price: '$275'}, {name: '綜合刺身', price: '$350'}] },
            { id: 3, name: '麥當勞-台中河南店', rating: '★★★★★ 4.8', priceRange: '$ 1 ~ 200', priceMeta: '$', distance: '1.0 km', heroImg: 'placeholder-store-2.jpg', description: '麥當勞-台中河南店', menu: [{name: '大麥克套餐', price: '$159'}, {name: '麥克雞塊', price: '$100'}] },
            { id: 4, name: '力軒屋', rating: '★★★★☆ 4.2', priceRange: '$ 1 ~ 200', priceMeta: '$', distance: '0.8 km', heroImg: 'placeholder-store-3.jpg', description: '力軒屋', menu: [{name: '滷肉飯', price: '$50'}, {name: '排骨便當', price: '$90'}] },
        ];
        
        // --- 修正：初始化為空陣列 ---
        let dailyDietData = []; 

        // 收藏狀態變數 (儲存 ID)
        let favorites = []; 
        let currentStoreId = null; 
        
        // 月曆狀態
        let currentMonth = new Date(); 
        let selectedDate = currentMonth.getDate(); 


        // 頁面切換邏輯
        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('.nav-item');
            const pageSections = document.querySelectorAll('.page-section');
            const followIcon = document.getElementById('follow-icon'); 
            const categoryButtons = document.querySelectorAll('.category-filters .filter-btn');
            const priceButtons = document.querySelectorAll('.price-filters .filter-btn');
            const vegetarianToggle = document.getElementById('vegetarian-toggle');
            const resetFiltersButton = document.getElementById('reset-filters');
            const storeListContainer = document.getElementById('store-list-container');
            
            // 我的飲食頁面元素
            const monthYearDisplay = document.getElementById('current-month-year');
            const calendarGrid = document.getElementById('calendar-grid');
            const prevMonthBtn = document.getElementById('prev-month');
            const nextMonthBtn = document.getElementById('next-month');
            const mealButtons = document.querySelectorAll('.meal-card-btn');
            const mealDetailContainer = document.getElementById('meal-detail-container');
            const totalSummaryContainer = document.getElementById('total-summary');
            const mealSummaryTitle = document.getElementById('meal-summary-title');
            const mealSummaryValues = document.getElementById('meal-summary-values');
            const mealFoodList = document.getElementById('meal-food-list');
            const totalSummaryValues = document.getElementById('total-summary-values');
            const saveDietBtn = document.getElementById('save-diet-btn');
            
            // 輸入框元素
            const inputName = document.getElementById('food-name');
            const inputCals = document.getElementById('food-cals');
            const inputCarbs = document.getElementById('food-carbs');
            const inputProtein = document.getElementById('food-protein');
            const inputFat = document.getElementById('food-fat');
            const inputSugar = document.getElementById('food-sugar');
            const inputSodium = document.getElementById('food-sodium');


            // --- 輔助函式定義 ---

            function setActivePage(targetId, navId, storeId = null) {
                pageSections.forEach(section => section.classList.remove('active'));
                const targetSection = document.getElementById(targetId);
                if (targetSection) targetSection.classList.add('active');

                navLinks.forEach(link => link.classList.remove('selected'));
                const navElement = document.getElementById(navId);
                if (navElement) navElement.classList.add('selected');

                if (targetId === 'store-detail-page' && storeId !== null) {
                    const store = storeData.find(s => s.id === storeId);
                    if (store) {
                        currentStoreId = storeId; 
                        renderStoreDetail(store);
                    }
                } else if (targetId === 'diet-page') {
                    renderCalendar(currentMonth);
                    resetMealView();
                } else if (targetId === 'favorite-page') {
                    renderFavorites(); 
                }
            }
            
            function resetAllFilters() {
                categoryButtons.forEach(button => {
                    button.classList.remove('selected');
                });
                priceButtons.forEach(button => {
                    button.classList.remove('selected');
                });
                console.log("分類及價格篩選條件已重置。");
                renderStoreList(storeData);
            }

            function renderTotalSummary(data) {
                const total = data.reduce((acc, item) => {
                    acc.cals += item.cals || 0;
                    acc.carbs += item.carbs || 0;
                    acc.protein += item.protein || 0;
                    acc.fat += item.fat || 0;
                    acc.sugar += item.sugar || 0;
                    acc.sodium += item.sodium || 0;
                    return acc;
                }, { cals: 0, carbs: 0, protein: 0, fat: 0, sugar: 0, sodium: 0 });

                totalSummaryValues.innerHTML = `
                    <div class="summary-value"><p>${total.cals}</p><p>大卡</p></div>
                    <div class="summary-value"><p>${total.carbs}</p><p>公克</p></div>
                    <div class="summary-value"><p>${total.protein}</p><p>公克</p></div>
                    <div class="summary-value"><p>${total.fat}</p><p>公克</p></div>
                    <div class="summary-value"><p>${total.sugar}</p><p>公克</p></div>
                    <div class="summary-value"><p>${total.sodium}</p><p>毫克</p></div>
                `;
                
                mealButtons.forEach(btn => {
                    const mealType = btn.getAttribute('data-meal');
                    const mealCals = data
                        .filter(item => item.meal === mealType)
                        .reduce((sum, item) => sum + (item.cals || 0), 0);
                    btn.querySelector('.meal-cal-summary').textContent = `已攝取：約 ${mealCals} 大卡`;
                });
            }
            
            function renderMealDetails(mealType, data) {
                const mealItems = data.filter(item => item.meal === mealType);
                
                const total = mealItems.reduce((acc, item) => {
                    acc.cals += item.cals || 0;
                    acc.carbs += item.carbs || 0;
                    acc.protein += item.protein || 0;
                    acc.fat += item.fat || 0;
                    acc.sugar += item.sugar || 0;
                    acc.sodium += item.sodium || 0;
                    return acc;
                }, { cals: 0, carbs: 0, protein: 0, fat: 0, sugar: 0, sodium: 0 });

                mealSummaryTitle.textContent = getMealName(mealType) + ' 攝取量'; // 顯示中文名稱
                mealSummaryValues.innerHTML = `
                    <div class="summary-value"><p>${total.cals}</p><p>大卡</p></div>
                    <div class="summary-value"><p>${total.carbs}</p><p>公克</p></div>
                    <div class="summary-value"><p>${total.protein}</p><p>公克</p></div>
                    <div class="summary-value"><p>${total.fat}</p><p>公克</p></div>
                    <div class="summary-value"><p>${total.sugar}</p><p>公克</p></div>
                    <div class="summary-value"><p>${total.sodium}</p><p>毫克</p></div>
                `;

                if (mealItems.length === 0) {
                     mealFoodList.innerHTML = '<p style="text-align: center; color: #999;">尚未新增資料</p>';
                } else {
                    mealFoodList.innerHTML = mealItems.map(item => `
                        <div class="food-entry">
                            <div class="entry-title">${item.name}</div>
                            <div class="entry-nutrients">
                                <div class="entry-nutrient"><p>${item.cals}</p><p>大卡</p></div>
                                <div class="entry-nutrient"><p>${item.carbs}</p><p>公克</p></div>
                                <div class="entry-nutrient"><p>${item.protein}</p><p>公克</p></div>
                                <div class="entry-nutrient"><p>${item.fat}</p><p>公克</p></div>
                                <div class="entry-nutrient"><p>${item.sugar}</p><p>公克</p></div>
                                <div class="entry-nutrient"><p>${item.sodium}</p><p>毫克</p></div>
                            </div>
                        </div>
                    `).join('');
                }
            }
            
            function getMealName(type) {
                switch(type) {
                    case 'breakfast': return '早餐';
                    case 'lunch': return '午餐';
                    case 'dinner': return '晚餐';
                    case 'other': return '其他';
                    default: return type;
                }
            }

            function resetMealView() {
                totalSummaryContainer.style.display = 'block';
                mealDetailContainer.style.display = 'none';
                document.getElementById('diet-form').style.display = 'none'; // 隱藏輸入表單
                mealButtons.forEach(btn => btn.classList.remove('selected'));
                renderTotalSummary(dailyDietData); // 確保每次重置都更新總計
            }

            // --- 儲存功能 ---
            saveDietBtn.addEventListener('click', () => {
                // 找出當前選中的餐次
                const selectedBtn = document.querySelector('.meal-card-btn.selected');
                if (!selectedBtn) {
                    alert('請先選擇一個餐次！');
                    return;
                }
                const mealType = selectedBtn.getAttribute('data-meal');
                
                // 獲取輸入值
                const name = inputName.value.trim();
                const cals = parseInt(inputCals.value) || 0;
                const carbs = parseInt(inputCarbs.value) || 0;
                const protein = parseInt(inputProtein.value) || 0;
                const fat = parseInt(inputFat.value) || 0;
                const sugar = parseInt(inputSugar.value) || 0;
                const sodium = parseInt(inputSodium.value) || 0;
                
                if (!name) {
                    alert('請輸入食物名稱！');
                    return;
                }

                // 建立新資料
                const newItem = {
                    id: Date.now(), // 簡單的唯一 ID
                    meal: mealType,
                    name: name,
                    cals: cals,
                    carbs: carbs,
                    protein: protein,
                    fat: fat,
                    sugar: sugar,
                    sodium: sodium
                };
                
                // 加入陣列
                dailyDietData.push(newItem);
                
                // 清空輸入框
                inputName.value = '';
                inputCals.value = '';
                inputCarbs.value = '';
                inputProtein.value = '';
                inputFat.value = '';
                inputSugar.value = '';
                inputSodium.value = '';
                
                // 更新畫面 (總計 + 單餐詳情)
                renderTotalSummary(dailyDietData);
                renderMealDetails(mealType, dailyDietData);
                
                console.log('已儲存:', newItem);
            });


            function handleDayClick() {
                document.querySelectorAll('#calendar-grid .cal-day').forEach(day => day.classList.remove('selected'));
                this.classList.add('selected');
                
                const selectedDateStr = this.getAttribute('data-date');
                selectedDate = parseInt(this.textContent);
                console.log(`日期 ${selectedDateStr} 被選中。`);
                resetMealView(); 
            }

            function handleMealClick() {
                const mealType = this.getAttribute('data-meal');
                const isSelected = this.classList.contains('selected');

                mealButtons.forEach(btn => btn.classList.remove('selected'));
                
                if (!isSelected) {
                    this.classList.add('selected');
                    totalSummaryContainer.style.display = 'none';
                    mealDetailContainer.style.display = 'block';
                    document.getElementById('diet-form').style.display = 'block';

                    renderMealDetails(mealType, dailyDietData);
                    console.log(`正在查看 ${mealType} 詳情。`);
                } else {
                    resetMealView();
                    console.log(`返回總累積攝取視圖。`);
                }
            }


            function renderCalendar(date) {
                const now = new Date();
                const currentYear = now.getFullYear();
                const currentMonthIndex = now.getMonth();
                const todayDate = now.getDate();
                
                const year = date.getFullYear();
                const month = date.getMonth();

                const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
                monthYearDisplay.textContent = `${monthNames[month]} ${year}`;

                const firstDayOfMonth = new Date(year, month, 1).getDay();
                const daysInMonth = new Date(year, month + 1, 0).getDate();
                const daysInPrevMonth = new Date(year, month, 0).getDate();

                calendarGrid.innerHTML = `
                    <span class="cal-weekday">Su</span>
                    <span class="cal-weekday">Mo</span>
                    <span class="cal-weekday">Tu</span>
                    <span class="cal-weekday">We</span>
                    <span class="cal-weekday">Th</span>
                    <span class="cal-weekday">Fr</span>
                    <span class="cal-weekday">Sa</span>
                `;

                for (let i = firstDayOfMonth; i > 0; i--) {
                    const day = daysInPrevMonth - i + 1;
                    const dayElement = document.createElement('span');
                    dayElement.classList.add('cal-day', 'not-in-month');
                    dayElement.textContent = day;
                    calendarGrid.appendChild(dayElement);
                }

                for (let day = 1; day <= daysInMonth; day++) {
                    const dateString = `${monthNames[month]} ${day}, ${year}`;
                    const dayElement = document.createElement('span');
                    dayElement.classList.add('cal-day', 'in-month');
                    dayElement.textContent = day;
                    dayElement.setAttribute('data-date', dateString);
                    
                    const isToday = year === currentYear && month === currentMonthIndex && day === todayDate;
                    
                    if (isToday) {
                        dayElement.classList.add('selected');
                    } else if (day === selectedDate && year === currentMonth.getFullYear() && month === currentMonth.getMonth()) {
                         dayElement.classList.add('selected');
                    }
                    
                    dayElement.addEventListener('click', handleDayClick);
                    calendarGrid.appendChild(dayElement);
                }

                const totalCells = firstDayOfMonth + daysInMonth;
                const cellsNeeded = 42; 
                let nextDay = 1;

                for (let i = totalCells; i < cellsNeeded; i++) {
                    const dayElement = document.createElement('span');
                    dayElement.classList.add('cal-day', 'not-in-month');
                    dayElement.textContent = nextDay++;
                    calendarGrid.appendChild(dayElement);
                }
            }

            function changeMonth(delta) {
                currentMonth.setDate(1); 
                currentMonth.setMonth(currentMonth.getMonth() + delta);
                currentMonth.setDate(Math.min(selectedDate, new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 0).getDate()));
                renderCalendar(currentMonth);
            }
            
            function renderStoreList(stores) {
                // Ensure storeListContainer exists before trying to access innerHTML
                if (!storeListContainer) {
                    console.error("Store list container not found!");
                    return;
                }
                
                storeListContainer.innerHTML = '';
                stores.forEach(store => {
                    const card = document.createElement('a');
                    card.href = '#';
                    card.classList.add('store-card', 'store-link');
                    card.setAttribute('data-store-id', store.id);
                    
                    card.innerHTML = `
                        <img src="${store.heroImg}" alt="${store.name}">
                        <div class="store-info">
                            <p class="store-name">${store.name}</p>
                            <span class="distance">${store.distance}</span>
                        </div>
                        <div class="store-rating">
                            <span class="stars">${store.rating.split(' ')[0]}</span>
                            <span class="price-range">${store.priceRange}</span>
                        </div>
                    `;
                    storeListContainer.appendChild(card);
                });
                
                document.querySelectorAll('.store-link').forEach(link => {
                    link.addEventListener('click', handleStoreLinkClick);
                });
            }

            function handleStoreLinkClick(e) {
                e.preventDefault();
                const storeId = parseInt(this.getAttribute('data-store-id'));
                setActivePage('store-detail-page', 'nav-search', storeId);
            }


            function renderStoreDetail(store) {
                document.getElementById('detail-hero-img').src = store.heroImg;
                document.getElementById('detail-hero-img').alt = store.name;
                document.getElementById('detail-description').textContent = store.description;

                const starRating = store.rating.split(' ')[0];
                const metaText = `${starRating} ${store.rating.split(' ')[1] || ''}`;

                document.getElementById('detail-rating-stars').innerHTML = `<i class="fa-solid fa-star"></i> ${metaText}`;
                document.getElementById('detail-price-meta').textContent = store.priceMeta;
                document.getElementById('detail-distance').textContent = store.distance;
                document.getElementById('detail-address').textContent = store.address;

                const menuContainer = document.getElementById('detail-menu-cards');
                menuContainer.innerHTML = '';

                store.menu.forEach((item, index) => {
                    const placeholderImg = index % 3 === 0 ? 'dish-1.jpg' : (index % 3 === 1 ? 'dish-2.jpg' : 'dish-3.jpg');
                    const menuCard = document.createElement('div');
                    menuCard.classList.add('menu-card');
                    menuCard.innerHTML = `
                        <img src="${placeholderImg}" alt="${item.name}">
                        <p>${item.name}</p>
                        <span>${item.price}</span>
                    `;
                    menuContainer.appendChild(menuCard);
                });
                
                const isFavorited = favorites.includes(store.id);
                if (followIcon) {
                    if (isFavorited) {
                        followIcon.classList.remove('fa-regular');
                        followIcon.classList.add('fa-solid', 'followed');
                    } else {
                        followIcon.classList.remove('fa-solid', 'followed');
                        followIcon.classList.add('fa-regular');
                    }
                }
            }

            function renderFavorites() {
                const container = document.getElementById('favorite-list-container');
                const filteredStores = storeData.filter(store => favorites.includes(store.id));
                container.innerHTML = '';
                
                if (filteredStores.length === 0) {
                    container.innerHTML = '<p style="text-align: center; color: #666; padding: 40px 0;">您的收藏列表是空的。</p>';
                    return;
                }

                filteredStores.forEach(store => {
                    const card = document.createElement('div');
                    card.classList.add('store-card');
                    
                    card.innerHTML = `
                        <img src="${store.heroImg}" alt="${store.name}">
                        <div class="store-info">
                            <p class="store-name">${store.name}</p>
                            <span class="distance">${store.distance}</span>
                        </div>
                        <div class="store-rating">
                            <span class="stars">${store.rating.split(' ')[0]}</span>
                            <span class="price-range">${store.priceRange}</span>
                        </div>
                    `;
                    container.appendChild(card);
                });
            }


            // --- 執行初始化和事件綁定 ---

            // 初始載入和綁定
            prevMonthBtn.addEventListener('click', () => changeMonth(-1));
            nextMonthBtn.addEventListener('click', () => changeMonth(1));
            mealButtons.forEach(button => {
                button.addEventListener('click', handleMealClick);
            });
            resetFiltersButton.addEventListener('click', resetAllFilters);

            // 導覽列點擊事件
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    const targetPage = link.getAttribute('data-page');
                    setActivePage(targetPage, link.id);
                });
            });

            // 追蹤圖標點擊事件 (愛心切換 & 不跳轉)
            if (followIcon) {
                followIcon.addEventListener('click', (e) => {
                    e.preventDefault();
                    
                    if (currentStoreId === null) return; // 確保有店家 ID

                    if (followIcon.classList.contains('fa-regular')) {
                        favorites.push(currentStoreId);
                        followIcon.classList.remove('fa-regular');
                        followIcon.classList.add('fa-solid', 'followed');
                        console.log(`店家 ${currentStoreId} 已收藏。當前收藏:`, favorites);
                    } else {
                        favorites = favorites.filter(id => id !== currentStoreId);
                        followIcon.classList.remove('fa-solid', 'followed');
                        followIcon.classList.add('fa-regular');
                        console.log(`店家 ${currentStoreId} 已取消收藏。當前收藏:`, favorites);
                    }
                });
            }

            // 類別按鈕點擊事件 (多選切換)
            categoryButtons.forEach(button => {
                button.addEventListener('click', () => {
                    button.classList.toggle('selected');
                    console.log(`類別按鈕 ${button.textContent} 狀態切換.`);
                });
            });

            // 價格按鈕點擊事件 (單選切換) - 允許都不選
            priceButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const isSelected = button.classList.contains('selected');
                    priceButtons.forEach(btn => btn.classList.remove('selected'));
                    
                    if (!isSelected) {
                        button.classList.add('selected');
                        console.log(`價格按鈕 ${button.textContent} 被選中.`);
                    } else {
                        console.log(`價格按鈕 ${button.textContent} 被取消選中.`);
                    }
                });
            });


            // --- 啟動初始化 ---

            // 修正: 確保所有初始化相關函式在 DOMContentLoaded 綁定後被調用
            setActivePage('search-page', 'nav-search'); 
            renderTotalSummary(dailyDietData); 
            renderStoreList(storeData); // 這裡被補上了
            mealDetailContainer.style.display = 'none'; 
        });

        // 飲食輸入表單切換邏輯 (Frame 3/5)
        function toggleForm(formId) {
            const form = document.getElementById(formId);
            if (form) {
                form.style.display = form.style.display === 'none' ? 'block' : 'none';
            }
        }
    </script>
</body>
</html>